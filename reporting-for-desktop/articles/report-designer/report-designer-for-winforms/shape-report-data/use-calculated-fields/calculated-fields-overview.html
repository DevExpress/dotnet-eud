<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
      <title>Calculated Fields Overview | DevExpress End-User Documentation </title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="title" content="Calculated Fields Overview | DevExpress End-User Documentation ">
      
      
      <link rel="icon" href="../../../../../../favicon.ico">
      <link rel="stylesheet" href="../../../../../../public/docfx.min.css">
      <link rel="stylesheet" href="../../../../../../public/main.css">
      <meta name="docfx:navrel" content="../../../../../../toc.html">
      <meta name="docfx:tocrel" content="../../../../../toc.html">
      
      <meta name="docfx:rel" content="../../../../../../">
      
      
      <meta name="docfx:docurl" content="https://github.com/DevExpress/dotnet-eud/blob/24.1/reporting-for-desktop/articles/report-designer/report-designer-for-winforms/shape-report-data/use-calculated-fields/calculated-fields-overview.md/#L1">
      <meta name="loc:inThisArticle" content="In this article">
      <meta name="loc:searchResultsCount" content="{count} results for &quot;{query}&quot;">
      <meta name="loc:searchNoResults" content="No results for &quot;{query}&quot;">
      <meta name="loc:tocFilter" content="Filter by title">
      <meta name="loc:nextArticle" content="Next">
      <meta name="loc:prevArticle" content="Previous">
      <meta name="loc:themeLight" content="Light">
      <meta name="loc:themeDark" content="Dark">
      <meta name="loc:themeAuto" content="Auto">
      <meta name="loc:changeTheme" content="Change theme">
      <meta name="loc:copy" content="Copy">
      <meta name="loc:downloadPdf" content="Download PDF">

      <script type="module" src="./../../../../../../public/docfx.min.js"></script>

      <script>
        const theme = localStorage.getItem('theme') || 'auto'
        document.documentElement.setAttribute('data-bs-theme', theme === 'auto' ? (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light') : theme)
      </script>

      <!-- Matomo Tag Manager -->
      <script>
        var _mtm = window._mtm = window._mtm || [];
        _mtm.push({'mtm.startTime': (new Date().getTime()), 'event': 'mtm.Start'});
        var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
        g.async=true; g.src='https://matomo.devexpress.com/js/container_kE7MWPi0.js'; s.parentNode.insertBefore(g,s);
      </script>
      <!-- End Matomo Tag Manager -->
  </head>

  <body class="tex2jax_ignore" data-layout="" data-yaml-mime="">
    <header class="bg-body border-bottom">
      <nav id="autocollapse" class="navbar navbar-expand-md" role="navigation">
        <div class="container-xxl flex-nowrap">
          <a class="navbar-brand" href="../../../../../../index.html">
            <img id="logo" class="svg" src="../../../../../../logo.svg" alt="DevExpress EUD">
            DevExpress EUD
          </a>
          <button class="btn btn-lg d-md-none border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navpanel" aria-controls="navpanel" aria-expanded="false" aria-label="Toggle navigation">
            <i class="bi bi-three-dots"></i>
          </button>
          <div class="collapse navbar-collapse" id="navpanel">
            <div id="navbar">
              <form class="search" role="search" id="search">
                <i class="bi bi-search"></i>
                <input class="form-control" id="search-query" type="search" disabled="" placeholder="Search" autocomplete="off" aria-label="Search">
              </form>
            </div>
          </div>
        </div>
      </nav>
    </header>

    <main class="container-xxl">
      <div class="toc-offcanvas">
        <div class="offcanvas-md offcanvas-start" tabindex="-1" id="tocOffcanvas" aria-labelledby="tocOffcanvasLabel">
          <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="tocOffcanvasLabel">Table of Contents</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" data-bs-target="#tocOffcanvas" aria-label="Close"></button>
          </div>
          <div class="offcanvas-body">
            <nav class="toc" id="toc"></nav>
          </div>
        </div>
      </div>

      <div class="content">
        <div class="actionbar">
          <button class="btn btn-lg border-0 d-md-none" type="button" data-bs-toggle="offcanvas" data-bs-target="#tocOffcanvas" aria-controls="tocOffcanvas" aria-expanded="false" aria-label="Show table of contents">
            <i class="bi bi-list"></i>
          </button>

          <nav id="breadcrumb"></nav>
        </div>

        <article data-uid="">
<h1 id="calculated-fields-overview">Calculated Fields Overview</h1>

<p>Calculated fields allow you to pre-process a report's input data, based on a certain expression. So, using calculated fields allows you to apply complex expressions to one or more data fields that are obtained from your report's underlying data source. Moreover, you can both <a href="../group-and-sort-data/group-data.html">group</a> and <a href="../group-and-sort-data/sort-data.html">sort</a> your report data based on a calculated field's value.</p>
<h2 id="overview">Calculated Fields Overview</h2>
<p>To create a calculated field, switch to the <a href="../../report-designer-tools/ui-panels/field-list.html">Field List</a>, right-click any item inside the data source and select <strong>Add Calculated Field</strong>.</p>
<p><img src="../../../../../images/eurd-win-add-calculated-field.png" alt=""></p>
<p>Right-click the calculated field in the <strong>Field List</strong> and select <strong>Edit Expression</strong>. Alternatively, you can select the calculated field, and in the <a href="../../report-designer-tools/ui-panels/property-grid-tabbed-view.html">Property Grid</a>, click the <strong>Expression</strong> property's ellipsis button.</p>
<p><img src="../../../../../images/eurd-win-calculated-field-eidt-expression.png" alt=""></p>
<p>In the invoked <strong>Expression Editor</strong>, construct the required expression. You can use data fields, <a href="../../use-report-parameters.html">report parameters</a>, predefined constants as well as various date-time, logical, math and string functions. See the next document section for more information about expression syntax.</p>
<p><img src="../../../../../images/eurd-win-calculated-field-expression.png" alt=""></p>
<div class="NOTE">
<h5>Note</h5>
<p>The Expression Editor displays only those data fields that are obtained from a data source specified by the calculated field's <strong>Data Source</strong> and <strong>Data Member</strong> property values.</p>
</div>
<p>The report's <strong>Calculated Fields</strong> property provides access to the calculated field collection.</p>
<p><img src="../../../../../images/eurd-win-calculated-field-collection-editor.png" alt=""></p>
<p>You can click the <strong>Add Calculated Field</strong> button in the <a href="../../report-designer-tools/toolbar.html">Toolbar</a>'s <strong>Home</strong> tab to invoke the <strong>Calculated Field Collection Editor</strong>.</p>
<p><img src="../../../../../images/eurd-win-calculated-field-add-via-toolbar.png" alt=""></p>
<p>You can drag the calculated field from the <strong>Field List</strong> onto the required band like an ordinary data field.</p>
<p><img src="../../../../../images/eurd-win-calculated-field-drop-onto-band.png" alt=""></p>
<p>You can also group and sort your report data based on the calculated field values.</p>
<h2 id="syntax">Expression Syntax</h2>
<p>A data field is inserted into the expression's text using its name in <strong>[<strong>square brackets</strong>]</strong>, and parameters are inserted using a question mark before their names.</p>
<p>A calculated field's expression can evaluate the values of other calculated fields if you make sure to avoid circular references.</p>
<p>Date-time constants must be wrapped in hashtags (<strong>#</strong>) (e.g., <strong>[OrderDate] &gt;= #1/1/2009#</strong>). To represent a null reference (one that does not refer to any object), use a question mark (e.g., <strong>[Region] != ?</strong>). To denote strings, use apostrophes (<strong>'</strong>), otherwise an error will occur.</p>
<p>To embed an apostrophe into an expression's text, it should be preceded by another apostrophe (e.g., <strong>'It''s sample text'</strong>).</p>
<p>The type of a value returned by a calculated field is defined by its <strong>Field Type</strong> property.</p>
<p>If a calculated field expression involves the use of different types, it is necessary to convert them to the same type (e.g., <strong>Max(ToDecimal([Quantity]),[UnitPrice])</strong>)</p>
<p>Although a value that is returned by a calculated field is usually converted to a string (to be displayed in a text-aware report control), it can return a value of any kind. For example, if a database field contains an image, you can set a calculated field's expression to &quot;=...&quot;, after which this calculated field can be bound to the <a href="../../use-report-elements/use-basic-report-controls/picture-box.html">Picture Box</a> control.</p>
<p>To construct a valid aggregate expression, use the following format, which consists of four parts.</p>
<p><em>[&lt;Collection&gt;][&lt;Condition&gt;].&lt;Aggregate&gt;(&lt;Expression&gt;)</em></p>
<ul>
<li><em>&lt;Collection&gt;</em> - Specifies a collection against which an aggregated value should be calculated. It can be the relationship name in a case of a master-detail relationship, or the name of a collection property exposed by the target class. For example, <em>[CategoriesProducts][[CategoryId]&gt;5].Count()</em>. Empty brackets [] indicate the root collection.</li>
<li><em>&lt;Condition&gt;</em> - Specifies a condition defining which records should participate in calculating an aggregate function. To obtain an aggregated value against all records, delete this logical clause along with square brackets (for example, <em>[].Count()</em>).</li>
<li><em>&lt;Aggregate&gt;</em> - Specifies one of the available aggregate functions.</li>
<li><em>&lt;Expression&gt;</em> - Specifies an expression evaluating values to be used to perform calculation. For example, <em>[][[CategoryID] &gt; 5].Sum([UnitPrice]*[Quantity])</em>. The <strong>Count</strong> function does not require field values to count the records, so leave the round brackets empty for this function.</li>
</ul>
<p>You can refer to the currently processed group using the Parent Relationship Traversal Operator ('^'). This allows you to calculate aggregates within groups using expressions like the following: <em>[][[^.CategoryID] == [CategoryID]].Sum([UnitPrice])</em>.</p>
<p>For more information, see <a href="../../use-expressions/expression-language.html">Expression Language</a>.</p>
<h2 id="examples">Examples</h2>
<p>The following tutorials demonstrate the use of calculated fields in various environments:</p>
<ul>
<li><a href="calculate-an-aggregate-function.html">Calculate an Aggregate Function</a></li>
<li><a href="../calculate-summaries/calculate-a-weighted-average.html">Calculate a Weighted Average Function</a></li>
<li><a href="../group-and-sort-data/sort-data-by-a-custom-field.html">Sort Data by a Custom Field</a></li>
<li><a href="../group-and-sort-data/group-data-by-a-custom-field.html">Group Data by a Custom Field</a></li>
</ul>

</article>

        <div class="contribution d-print-none">
          <a href="https://github.com/DevExpress/dotnet-eud/blob/24.1/reporting-for-desktop/articles/report-designer/report-designer-for-winforms/shape-report-data/use-calculated-fields/calculated-fields-overview.md/#L1" class="edit-link">Edit this page</a>
        </div>

        <div class="next-article d-print-none border-top" id="nextArticle"></div>

      </div>

      <div class="affix">
        <nav id="affix"></nav>
      </div>
    </main>

    <div class="container-xxl search-results" id="search-results"></div>

    <footer class="border-top text-secondary">
      <div class="container-xxl">
        <div class="flex-fill">
          Copyright (c) 1998-2024 Developer Express Inc. All rights reserved.
        </div>
      </div>
    </footer>
  </body>
</html>
